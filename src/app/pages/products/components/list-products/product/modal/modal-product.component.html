<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">{{ product.title }}</h4>
    <button
      type="button"
      class="btn-close"
      aria-label="Close"
      (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body" *ngIf="formProduto">
    <div class="d-flex justify-content-between">
      <div>
        <img src="{{ product.image }}" alt="{{ product.title }}" />
        <p>{{ product.description }}</p>
      </div>
      <div class="content-form">
        <form [formGroup]="formProduto">
          <div class="mb-3">
            <div class="row g-3 mb-3">
              <div class="col-12 d-flex justify-content-between">
                <span>Pre√ßo: </span>
                <strong>{{ product.price | currency: 'BRL' }}/{{ product.measurementUnit }}</strong>
              </div>
            </div>
            <div class="form-group">
              <div
                class="row g-3 align-items-center justify-content-between mb-3">
                <div class="col-4" style="text-align: left">
                  <span>Quantidade: </span>
                </div>
                <div class="d-flex align-items-center gap-4" style="width: 60%">
                  <button class="button-quantity">
                    <fa-icon [icon]="negativeIcon" (click)="changeProductValue('decrement')"></fa-icon>
                  </button>
                  <input
                    type="number"
                    formControlName="quantity"
                    min="0"
                    max="1000"
                    class="form-control" />
                  <button class="button-quantity">
                    <fa-icon [icon]="positiveIcon" (click)="changeProductValue('increment')"></fa-icon>
                  </button>
                </div>
              </div>
              <div class="row g-3 align-items-end">
                <span>Total: <strong>{{formProduto.get('total')?.value | currency}}</strong></span>
              </div>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
  <div class="modal-footer">
    <div class="col col-12">
      <div class="form-group">
        <button
          type="button"
          class="btn btn-success"
          style="width: -webkit-fill-available;"
          (click)="addToCart()">
          Adicionar ao carrinho
        </button>
      </div>
    </div>
  </div>
</ng-template>
